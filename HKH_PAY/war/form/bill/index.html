<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="/static/css/bill.css" />
  <title>PAYMENT 월 자동결제</title>
</head>

<body>
  <div id="header">
    <img class="image" src="/static/img/logo-pairing.png" alt="PAYMENT" />
    <div class="title">월 자동결제</div>
    <div class="divider"></div>
  </div>
  <div class="content" id="container-step1" style="display: block;">
    <div id="user-info">
      <table>
        <tr>
          <td class="head">가맹점</td>
          <td class="body">{{mchtName}} <span class="title-span">({{title}})</span></td>
        </tr>
        <tr>
          <td class="head">성명</td>
          <td class="body input-text-container"><input class="input-text" name="payerName" type="text" onchange="handleFormChange(this);" value="{{payerName}}"></td>
        </tr>
        <tr>
          <td class="head">연락처</td>
          <td class="body input-text-container"><input class="input-text" name="payerTel" type="text" onchange="handleFormChange(this);" value="{{payerTel}}"></td>
        </tr>
        <tr></tr>
        <td class="head">이메일</td>
        <td class="body input-text-container"><input class="input-text" name="payerEmail" type="text" onchange="handleFormChange(this);" value="{{payerEmail}}"></td>
        </tr>
      </table>
    </div>
    <div class="terms" id="defult-terms">
      <p class="terms-h1">자동결제 서비스 이용약관 및 유의사항</p>
      <p>1. 귀하가 신청하신 자동결제는 결제대행사 ㈜페어링솔루션에서 대행합니다.</p>
      <p>2. 따라서, 귀하의 자동결제 이용내역에는 이용가맹점이 ㈜페어링솔루션, ㈜케이에스넷, ㈜다날 등으로도 표기될 수 있으니 이 점 참고 부탁드립니다. </p>
      <p>3. 또한 ㈜페어링솔루션는 자동결제 결제대행만을 수행하므로, 결제신청해지 등과 관련한 모든 업무는 해당 이용가맹점을 통해 직접 요청하셔야 합니다. </p>
      <p>4. 귀하의 자동결제 신청 지정카드로 자동승인 요청 시 신용카드 이용약관이나 약정서의 규정에도 불구하고 일반결제(구 안심클릭) 혹은 ISP인증 등의 절차 없이 자동승인 처리절차에 의하여 승인하여도 이의가 없습니다. </p>
      <p>5. 귀하의 자동결제 신청 지정카드가 청구금액 출금일에 일일(체크카드의 경우에 한함.) 및 총 한도 금액 초과(직불 및 신용카드의 경우에 한함.)로 인하여 결제가 실패된 경우 또는 지정카드의 사용정지 및 지정카드 대금의 연체 등으로 청구가 불가능한 경우의 손해는 귀하의 책임으로 합니다. </p>
      <p>6. 귀하의 자동결제 신청 지정카드에서의 승인은 이용가맹점의 청구대로 승인키로 하며 승인금액에 이의가 있는 경우에는 귀하와 이용가맹점이 협의하여 조정키로 합니다.</p>
    </div>
    {{#if terms}}
    <div class="terms" id="second-terms">
      {{{terms}}}
    </div>
    {{/if}}
    <div id="terms-btns">
      <input type="checkbox" name="defult-terms" id="btn-defult-terms" value=""> 이용약관 및 유의사항에 동의합니다.<br>
      <input type="checkbox" name="second-terms" id="btn-second-terms" value=""> 매월 자동결제 되는 것에 동의합니다.<br>
    </div>
    <div id="buttons">
      <button class="btn btn-step1-ok" onclick="handleClickStep1(event, this)">확인</button>
      <button class="btn-cancel btn-step1-cancel" onclick="handleClickCancel(event, this)">취소</button>
    </div>
  </div>

  <div class="content" id="container-step2" style="display: none;">
    <div id="user-info-2">
      <table>
        <tr>
          <td class="head">가맹점</td>
          <td class="body">{{mchtName}}</td>
        </tr>
        <tr>
          <td class="head">성명</td>
          <td class="body">{{payerName}}</td>
        </tr>
        <tr>
          <td class="head">연락처</td>
          <td class="body">{{payerTel}}</td>
        </tr>
        <tr></tr>
        <td class="head">이메일</td>
        <td class="body">{{payerEmail}}</td>
        </tr>
      </table>
    </div>

    <div id="payment-info">
      <table>
        <tr>
          <td class="head">제공기간</td>
          <td class="body">매월 자동결제되는 상품입니다.</td>
        </tr>
        <tr>
          <td class="head">카드번호</td>
          <td class="body">
            <input class="input" id="card-input-1" maxlength="4" oninput="maxLengthCheck(this, event)" type="number"> -
            <input class="input" id="card-input-2" maxlength="4" oninput="maxLengthCheck(this, event)" type="number"> -
            <input class="input" id="card-input-3" maxlength="4" oninput="maxLengthCheck(this, event)" type="password"> -
            <input class="input" id="card-input-4" maxlength="4" oninput="maxLengthCheck(this, event)" type="text">
          </td>
        </tr>
        <tr>
          <td class="head">유효기간</td>
          <td class="body">
            <input class="input input-2" id="expire-input-1" maxlength="2" oninput="maxLengthCheck(this, event)" type="number" placeholder="월"> /
            <input class="input input-2" id="expire-input-2" maxlength="2" oninput="maxLengthCheck(this, event)" type="number" placeholder="년">
          </td>
        </tr>
        <tr></tr>
        <td class="head">인증확인</td>
        <td class="body">카드인증<br />천원이 결제된 후 취소됩니다.</td>
        </tr>
      </table>
    </div>

    <div id="terms-btns">
      <input type="checkbox" name="defult-terms" id="btn-defult-agree" value="Bike"> 상기 서비스의 이용요금은 월 자동결제되며 이에 동의합니다.<br>
      <input type="checkbox" name="second-terms" id="btn-second-agree" value="Bike"> 상기 결제내용을 확인하였습니다.<br>
    </div>
    <div id="buttons">
      <button class="btn btn-step1-ok" onclick="handleClickStep2(event, this)">인증결제하기</button>
      <button class="btn-cancel btn-step1-cancel" onclick="handleClickCancel(event, this)">취소</button>
    </div>
  </div>

  <div class="content" id="container-step3" style="display: none;">
    <div class="result-date">
      <div>결제일자</div>
      <div id="result-data"></div>
      <div class="sm-devider"></div>
    </div>

    <h1 id="result-title">결제가 완료되었습니다.</h1>
    <div id="result-info">
      <table>
        <tr>
          <td class="head">결제정보</td>
          <td class="body" id="result-item">상품명</td>
        </tr>
        <tr>
          <td class="head">결제자</td>
          <td class="body" id="result-payerName"></td>
        </tr>
        <tr>
          <td class="head">결제금액</td>
          <td class="body" id="result-amount"></td>
        </tr>
        <tr>
          <td class="head">결제 수단</td>
          <td class="body">
            <div id="result-card"></div>
            <div id="result-acq"></div>
          </td>
        </tr>
      </table>
    </div>
    <div class="desc">
      <ul>
        <li>상기 정보로 매월 자동결제됩니다.</li>
        <li>카드 명세서에 (주)페어링솔루션, (주)케이에스넷, (주)다날로 표시됩니다.</li>
      </ul>
    </div>

    <div id="buttons">
      <button class="btn btn-step1-ok" onclick="handleClickStep3(event, this)">확인</button>
    </div>
  </div>

  <div id="loading" style="display: none;">
    <div class="loading-container">
      <img src="/static/img/logo.png" alt="">
      <div class="spinner"></div>
    </div>
  </div>
  <form name="redirectForm" action="{{redirectUrl}}" style="display: none;" method="POST">
    <input type="hidden" name="summary" value="{{summary}}">
    <input type="hidden" name="mchtName" value="{{mchtName}}">
    <input type="hidden" name="trackId" value="{{trackId}}">
    <input type="hidden" name="payerTel" value="{{payerTel}}">
    <input type="hidden" name="payerId" value="{{payerId}}">
    <input type="hidden" name="payerName" value="{{payerName}}">
    <input type="hidden" name="payKey" value="{{payKey}}">
    <input type="hidden" name="udf1" value="{{udf1}}">
    <input type="hidden" name="payerEmail" value="{{payerEmail}}">
    <input type="hidden" name="udf2" value="{{udf2}}">
  </form>
  <script src="/static/js/bill.js"></script>
</body>
</html>